{"version":3,"sources":["img/vue.png","components/Header/Header.js","components/Home/Home.js","components/Topic/Topic.js","components/Box/Box.js","components/User/User.js","components/Messages/Messages.js","components/CreateTopic/CreateTopic.js","components/Main/Main.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","state","userInfo","token","messageCount","getMessageCount","localStorage","getItem","axios","get","then","res","setState","data","login","trim","post","accesstoken","console","log","setItem","id","success","props","history","push","catch","alert","logout","clear","this","prevProps","location","pathname","className","to","style","marginTop","src","logo","alt","avatar_url","color","marginLeft","marginRight","loginname","onClick","width","fontSize","onChange","event","target","value","type","Component","withRouter","Home","topics","currentPage","getTopics","page","limit","changePage","fromLocationGetType","search","includes","fromLocationGetPage","Number","match","getButtonText","topic","top","paginationTotal","tab","allNumber","find","item","indexOf","isActive","length","map","key","author","reply_count","visit_count","title","current","total","defaultPageSize","Topic","comment","textareaComment","setComment","newComment","up","reply_id","author_id","currenReply","replies","action","ups","filter","message","info","addComment","topic_id","content","topicid","params","myEditor","txt","html","textareaChange","evevt","reply","newTopic","forEach","showTextarea","replyReply","E","editor","customConfig","onchange","create","create_at","dangerouslySetInnerHTML","__html","display","justifyContent","height","float","LikeOutlined","MessageOutlined","htmlFor","backgroundColor","padding","ref","Box","linkText","linkAddress","title1","children","User","getInfo","username","flexDirection","score","githubUsername","GithubOutlined","collect_topics","recent_topics","recent_replies","Messages","messageInfo","hasnot_read_messages","has_read_messages","CreateTopic","selectChange","propty","submit","closable","onClose","placeholder","Main","exact","path","component","App","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.9b168ba7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/vue.e1ea82cb.png\";","import React, { Component } from 'react'\r\nimport './header.scss'\r\nimport axios from 'axios'\r\nimport logo from '../../img/vue.png'\r\nimport { Link, withRouter } from 'react-router-dom';\r\nclass Header extends Component {\r\n  state = {\r\n    userInfo: null,\r\n    token: '',\r\n    messageCount: 0\r\n  }\r\n  componentDidMount() {\r\n    const token = localStorage.getItem('token')\r\n    // const author_id = localStorage.getItem('author_id')\r\n    if (token) {\r\n      axios.post('https://www.vue-js.com/api/v1/accesstoken', { accesstoken: token }).then(res => {\r\n        localStorage.setItem('token', token)\r\n        localStorage.setItem('author_id', res.data.id)\r\n        delete res.data.success\r\n        this.setState({\r\n          userInfo: res.data\r\n        })\r\n      }).catch(() => {\r\n        alert('登录失败')\r\n      })\r\n    }\r\n    this.getMessageCount()\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    const token = localStorage.getItem('token')\r\n    if (this.props.location.pathname !== prevProps.location.pathname && this.props.location.pathname !== '/my/messages' && token) {\r\n      this.getMessageCount()\r\n    }\r\n  }\r\n  getMessageCount = () => {\r\n    const token = localStorage.getItem('token')\r\n    axios.get(`https://www.vue-js.com/api/v1/message/count?accesstoken=${token}`).then(res => {\r\n      // console.log(res.data.data)\r\n      this.setState({\r\n        messageCount: res.data.data\r\n      })\r\n    })\r\n  }\r\n  render() {\r\n    const { userInfo, token, messageCount } = this.state\r\n    return <header>\r\n      <div className=\"header-inner\">\r\n        <Link to='/'><img style={{ marginTop: '10px' }} src={logo} alt=\"\" /></Link>\r\n        {\r\n          userInfo ? <div><img src={userInfo.avatar_url} alt=\"\" /><span style={{ color: '#fff', marginLeft: '10px', marginRight: '10px' }}>{userInfo.loginname}</span><button onClick={this.logout}>登出</button>\r\n            <span>{messageCount ? messageCount : ''}<Link style={{ color: '#fff', width: '100px', fontSize: '18px', marginTop: '15px' }} to='/my/messages'>未读消息</Link> </span>\r\n            {this.props.location.pathname === '/topic/create' ? '' :\r\n              <button className='fbht'><Link to='/topic/create'>发布话题</Link></button>\r\n            }</div> : <div style={{ marginTop: '10px' }}>\r\n              <input onChange={(event) => this.setState({ token: event.target.value })} value={token} type=\"text\" />\r\n              <button onClick={this.login}>登录</button>\r\n            </div>\r\n        }\r\n      </div>\r\n    </header>\r\n  }\r\n  login = () => {\r\n    const { token } = this.state\r\n    if (token.trim()) {\r\n      axios.post('https://www.vue-js.com/api/v1/accesstoken', { accesstoken: token }).then(res => {\r\n        console.log(res.data);\r\n        localStorage.setItem('token', token)\r\n        localStorage.setItem('author_id', res.data.id)\r\n        delete res.data.success\r\n        this.setState({\r\n          userInfo: res.data\r\n        })\r\n        this.props.history.push('/')\r\n      }).catch(() => {\r\n        alert('登录失败')\r\n      })\r\n    }\r\n  }\r\n  logout = () => {\r\n    this.setState({\r\n      userInfo: null\r\n    })\r\n    localStorage.clear()\r\n    this.props.history.push('/')\r\n  }\r\n}\r\nexport default withRouter(Header)\r\n","import React, { Component } from 'react'\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { Pagination, Skeleton } from 'antd';\r\nimport './home.scss'\r\nimport axios from 'axios'\r\nclass Home extends Component {\r\n  state = {\r\n    topics: [],\r\n    currentPage: 1\r\n  }\r\n  componentDidMount() {\r\n    const type = this.fromLocationGetType()\r\n    const currentPage = this.fromLocationGetPage()\r\n    this.setState({\r\n      currentPage\r\n    })\r\n    this.getTopics(type, currentPage)\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    const { search } = this.props.location\r\n    const oldsearch = prevProps.location.search\r\n    if (search !== oldsearch) {\r\n      const type = this.fromLocationGetType()\r\n      if (!search.includes('page')) {\r\n        this.setState({\r\n          currentPage: 1\r\n        })\r\n        this.getTopics(type, 1)\r\n      } else {\r\n        this.getTopics(type, this.fromLocationGetPage())\r\n      }\r\n    }\r\n  }\r\n  getTopics = (type = 'all', page = '1', limit = 20) => {\r\n    axios.get(`https://www.vue-js.com/api/v1/topics?tab=${type}&limit=${limit}&page=${page}`).then(res => {\r\n      console.log(res.data.data)\r\n      this.setState({\r\n        topics: res.data.data\r\n      })\r\n    })\r\n  }\r\n  changePage = (page) => {\r\n    const type = this.fromLocationGetType()\r\n    this.props.history.push(`?tab=${type}&page=${page}`)\r\n    this.setState({\r\n      currentPage: page\r\n    })\r\n  }\r\n  fromLocationGetType = () => {\r\n    const { search } = this.props.location\r\n    return search === '' ? 'all' : search.includes('all') ? 'all' : search.includes('share') ? 'share' : search.includes('weex') ? 'weex' : search.includes('good') ? 'good' : search.includes('job') ? 'job' : 'ask'\r\n  }\r\n  fromLocationGetPage = () => {\r\n    const { search } = this.props.location\r\n    return search.includes('page') ? Number(search.match(/[0-9]{1,2}/)[0]) : 1\r\n  }\r\n  getButtonText = topic => topic.top ? '置顶' : '精华'\r\n  render() {\r\n    const { search } = this.props.location\r\n    const { topics, currentPage } = this.state\r\n    const paginationArr = [\r\n      { tab: 'all', allNumber: 1015 },\r\n      { tab: 'good', allNumber: 15 },\r\n      { tab: 'share', allNumber: 350 },\r\n      { tab: 'weex', allNumber: 3 },\r\n      { tab: 'job', allNumber: 39 },\r\n      { tab: 'ask', allNumber: 623 }\r\n    ]\r\n    const paginationTotal = paginationArr.find(item => search === '' ? item.tab === 'all' : search.indexOf(item.tab) > -1).allNumber\r\n    return <div className='home'>\r\n      <div className=\"nav\">\r\n        <ul>\r\n          <li><NavLink isActive={() => search.includes('all') || search === ''} to='/?tab=all'>全部</NavLink></li>\r\n          <li><NavLink isActive={() => search.includes('good')} to='/?tab=good'>精华</NavLink></li>\r\n          <li><NavLink isActive={() => search.includes('weex')} to='/?tab=weex'>weex</NavLink></li>\r\n          <li><NavLink isActive={() => search.includes('share')} to='/?tab=share'>分享</NavLink></li>\r\n          <li><NavLink isActive={() => search.includes('ask')} to='/?tab=ask'>问答</NavLink></li>\r\n          <li><NavLink isActive={() => search.includes('job')} to='/?tab=job'>招聘</NavLink></li>\r\n        </ul>\r\n      </div>\r\n      <div className='topic-list'>\r\n        {\r\n          topics.length ? <div>\r\n            <ul>\r\n              {\r\n                topics.map(item => <li key={item.id}> <Link to={`/user/${item.author.loginname}`}><img src={item.author.avatar_url} alt=\"\" /><span style={{ color: '#9e78c0', fontSize: '14px' }}>{item.reply_count}</span>/<span style={{ color: '#b4b4b4', fontSize: '12px' }}>{item.visit_count}</span></Link> <span className=\"zd\">{this.getButtonText(item)}</span><Link to={`/topic/${item.id}`}>{item.title}</Link></li>)\r\n              }\r\n            </ul>\r\n            <Pagination onChange={this.changePage} current={currentPage} total={paginationTotal} defaultPageSize={20} />\r\n          </div> : <Skeleton />\r\n        }\r\n\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\nexport default Home","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './topic.scss'\r\nimport { Skeleton, message, } from 'antd';\r\nimport { LikeOutlined, MessageOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport E from 'wangeditor'\r\n\r\nclass Topic extends Component {\r\n  state = {\r\n    topic: null,\r\n    comment: '',\r\n    textareaComment: ''\r\n  }\r\n  componentDidMount() {\r\n    const { topicid } = this.props.match.params\r\n    const token = localStorage.getItem('token')\r\n    axios.get(`https://www.vue-js.com/api/v1/topic/${topicid}`).then(res => {\r\n      const topic = res.data.data\r\n      topic.replies.forEach(item => {\r\n        item.showTextarea = false\r\n      });\r\n      this.setState({\r\n        topic: topic\r\n      })\r\n      if (token) {\r\n        this.myEditor = new E(this.editor)\r\n        this.myEditor.customConfig.onchange = html => {\r\n          this.setComment(html)\r\n        }\r\n        this.myEditor.create()\r\n      }\r\n    })\r\n  }\r\n  setComment = newComment => {\r\n    this.setState({\r\n      comment: newComment\r\n    })\r\n  }\r\n  up = reply_id => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n      axios.post(`https://www.vue-js.com/api/v1/reply/${reply_id}/ups`, { accesstoken: token }).then(res => {\r\n        const author_id = localStorage.getItem('author_id')\r\n        const topic = { ...this.state.topic }\r\n        const currenReply = topic.replies.find(item => item.id === reply_id)\r\n        if (res.data.action === 'up') {\r\n          currenReply.ups.push(author_id)\r\n        } else {\r\n          currenReply.ups = currenReply.ups.filter(item => item !== author_id)\r\n        }\r\n        this.setState({\r\n          topic: topic\r\n        })\r\n      })\r\n    } else {\r\n      message.info('请登录');\r\n    }\r\n  }\r\n  addComment = () => {\r\n    const { topic, comment } = this.state\r\n    console.log(comment)\r\n    if (comment.trim()) {\r\n      const token = localStorage.getItem('token')\r\n      const topic_id = topic.id\r\n      axios.post(`https://www.vue-js.com/api/v1/topic/${topic_id}/replies`, { accesstoken: token, content: comment }).then(res => {\r\n        const { topicid } = this.props.match.params\r\n        this.setState({\r\n          comment: ''\r\n        })\r\n        this.myEditor.txt.html('')\r\n        axios.get(`https://www.vue-js.com/api/v1/topic/${topicid}`).then(res => {\r\n          // const topic = res.data.data\r\n\r\n          this.setState({\r\n            topic: res.data.data\r\n          })\r\n        })\r\n      })\r\n    } else {\r\n      message.info('请输入')\r\n    }\r\n  }\r\n  textareaChange = evevt => {\r\n    this.setState({\r\n      comment: evevt.target.value\r\n    })\r\n\r\n  }\r\n\r\n  reply = ({ id, author }) => {\r\n    const { topic } = this.state\r\n    const newTopic = { ...topic }\r\n    newTopic.replies.forEach(item => {\r\n      if (item.id === id) {\r\n        item.showTextarea = !item.showTextarea\r\n      } else {\r\n        item.showTextarea = false\r\n      }\r\n    })\r\n    this.setState({\r\n      topic: newTopic,\r\n      textareaComment: `@${author.loginname} `\r\n    })\r\n\r\n  }\r\n  replyReply = id => {\r\n    const { textareaComment, topic } = this.state\r\n    const topic_id = topic.id\r\n    if (textareaComment.trim()) {\r\n      const token = localStorage.getItem('token')\r\n      axios.post(`https://www.vue-js.com/api/v1/topic/${topic_id}/replies`, { accesstoken: token, content: textareaComment, reply_id: id }).then(res => {\r\n        axios.get(`https://www.vue-js.com/api/v1/topic/${topic_id}`).then(res => {\r\n          const topic = res.data.data\r\n          topic.replies.forEach(item => {\r\n            item.showTextarea = false\r\n          })\r\n          this.setState({\r\n            topic: res.data.data,\r\n            textareaComment: ''\r\n          })\r\n        })\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const { topic, textareaComment } = this.state\r\n    const token = localStorage.getItem('token')\r\n    const author_id = localStorage.getItem('author_id')\r\n    return topic ? <div className='topic'>\r\n\r\n      < div className=\"topic-header\">\r\n        <div className=\"header-top\">\r\n          <span className='topic-zd' >置顶</span>\r\n          <h2 className='topic-h2'>{topic.title}</h2><br />\r\n        </div>\r\n        <div>\r\n          <span className='fa'>· 发布于 {topic.create_at}</span>\r\n          <span className='fa'>· 作者 <Link to={`/user/${topic.author.loginname}`}>{topic.author.loginname}</Link></span>\r\n        </div>\r\n        <div className='topic-content' dangerouslySetInnerHTML={{ __html: topic.content }}></div>\r\n\r\n      </div>\r\n      <div className=\"comment-box\">\r\n        <ul>\r\n          {topic.replies.map(item => <li id={item.id} key={item.id}><div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\r\n            <div>\r\n              <Link to={`/user/${item.author.loginname}`}><img style={{ width: '40px', height: '40px' }} src={item.author.avatar_url} alt=\"\" /></Link>\r\n              <div style={{ float: 'left' }}>\r\n                <Link to={`/user/${item.author.loginname}`}><span>{item.author.loginname}</span></Link>\r\n                <div dangerouslySetInnerHTML={{ __html: item.content }}></div>\r\n              </div>\r\n            </div>\r\n            <div><button onClick={() => this.up(item.id)} style={{ color: item.ups.includes(author_id) ? 'red' : '#000', }}><LikeOutlined /></button><span style={{ marginRight: '15px' }}>{item.ups.length}</span>{token ? <button onClick={() => this.reply(item)}><MessageOutlined /> <label htmlFor={item.id}></label></button> : ''}</div>\r\n          </div>\r\n            {/* {topic.replies.map(item => <li key={item.id}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <div>\r\n                <Link to={`/user/${item.author.loginname}`}><img src={item.author.avatar_url} alt=\"\" /></Link>\r\n                <div style={{ width: '500px' }}>\r\n                  <Link to={`/user/${item.author.loginname}`}>\r\n                    <span>{item.author.loginname}</span>\r\n                  </Link>\r\n                  <div dangerouslySetInnerHTML={{ __html: item.content }}>\r\n                  </div>\r\n                </div>\r\n                <div style={{ display: 'flex', float: 'right' }}><span onClick={() => this.up(item.id)} style={{ color: item.ups.includes(author_id) ? 'red' : '#000' }}><LikeOutlined /></span><span>{item.ups.length}</span>{token ? <button onClick={() => this.reply(item)}> <label htmlFor={item.id}>回复</label> </button> : ''}</div>\r\n              </div>\r\n            </div> */}\r\n\r\n            {\r\n              item.showTextarea ? <div> <textarea id={item.id} onChange={(event) => this.setState({\r\n                textareaComment: event.target.value\r\n              })} value={textareaComment} ></textarea><button onClick={() => this.replyReply(item.id)}>回复</button></div> : ''\r\n            }\r\n          </li>)}\r\n        </ul>\r\n        {token ? <div><h3 style={{ backgroundColor: '#f6f6f6', padding: '10px' }}>添加回复</h3>\r\n          <div ref={editor => this.editor = editor} id='editor'></div>\r\n          <button onClick={this.addComment}>回复</button></div> : ''}\r\n      </div>\r\n    </div > : <Skeleton />\r\n  }\r\n}\r\nexport default Topic","import React from 'react'\r\nimport './box.scss'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Box = (props) => <div className='box'>\r\n  <div className=\"box-header\">\r\n    {props.linkText ? <span> <Link style={{ marginRight: '5px', marginLeft: '5px', color: '#369214', fontSize: '14px' }} to={props.linkAddress}>{props.linkText}</Link><span>/</span> {props.title1} </span> : ''}<span style={{ marginRight: '5px', marginLeft: '5px', fontSize: '14px' }}>{props.title}</span>\r\n  </div>\r\n  <div className=\"box-content\">\r\n    {props.children}\r\n  </div>\r\n</div>\r\nexport default Box","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { Skeleton } from 'antd';\r\nimport { GithubOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom'\r\nimport './user.scss'\r\nimport Box from '../Box/Box';\r\nclass User extends Component {\r\n  state = {\r\n    userInfo: ''\r\n  }\r\n  componentDidMount() {\r\n    const username = this.props.match.params.username\r\n    this.getInfo(username)\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      const username = this.props.match.params.username\r\n      this.getInfo(username)\r\n    }\r\n  }\r\n  getInfo = username => {\r\n    axios.get(`https://www.vue-js.com/api/v1/user/${username}`).then(res => {\r\n      // console.log(res.data.data)\r\n      this.setState({\r\n        userInfo: res.data.data\r\n      })\r\n    })\r\n  }\r\n  render() {\r\n    const { userInfo } = this.state\r\n    return <Box linkText='主页' linkAddress='/' >\r\n      <div className='user'>\r\n        {\r\n          userInfo ?\r\n            <div>\r\n              <div className='zhuye' style={{ display: 'flex', flexDirection: 'column' }}>\r\n                <img style={{ width: '40px', float: 'left' }} src={userInfo.avatar_url} alt=\"\" />\r\n                <span style={{ display: 'block', float: 'left' }} >{userInfo.loginname}</span>\r\n                <span style={{ color: '#333', fontSize: '14px', marginTop: '10px' }}>积分{userInfo.score}</span>\r\n                {userInfo.githubUsername ? <span style={{ color: '#778087', fontSize: '14px', marginTop: '10px' }}><GithubOutlined /> {userInfo.githubUsername}</span> : ''}\r\n                {userInfo.collect_topics.length ? <span>{userInfo.collect_topics.length} 话题收藏</span> : ''}\r\n                <span style={{ color: '#ababab', fontSize: '14px', marginTop: '10px' }}>创建于{userInfo.create_at}</span>\r\n              </div>\r\n              <div className='chuang'>\r\n                <h4 >最近创建的话题</h4>\r\n                {userInfo.recent_topics.length ? <ul>\r\n                  {\r\n                    userInfo.recent_topics.map(item => <li key={item.id}> <Link to={`/user/${item.author.loginname}`}><img src={item.author.avatar_url} alt=\"\" /></Link> <Link to={`/topic/${item.id}`}>{item.title}</Link></li>)\r\n                  }\r\n                </ul> : '无话题'}\r\n              </div>\r\n              <div className='chuang'>\r\n                <h4>最近参与的话题</h4>\r\n                {userInfo.recent_replies.length ? <ul>\r\n                  {\r\n                    userInfo.recent_replies.map(item => <li key={item.id}> <Link to={`/user/${item.author.loginname}`}><img src={item.author.avatar_url} alt=\"\" /></Link> <Link to={`/topic/${item.id}`}>{item.title}</Link></li>)\r\n                  }\r\n                </ul> : '无话题'}\r\n              </div>\r\n            </div> : <Skeleton />\r\n        }\r\n      </div>\r\n    </Box>\r\n  }\r\n}\r\nexport default User","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { Skeleton } from 'antd';\r\nimport { Link } from 'react-router-dom'\r\nimport Box from '../Box/Box'\r\nimport './messages.scss'\r\nclass Messages extends Component {\r\n  state = {\r\n    messageInfo: null\r\n  }\r\n  componentDidMount() {\r\n    const token = localStorage.getItem('token')\r\n    axios.get(`https://www.vue-js.com/api/v1/messages?accesstoken=${token}`).then(res => {\r\n      this.setState({\r\n        messageInfo: res.data.data\r\n      })\r\n      if (res.data.data.hasnot_read_messages.length > 0) {\r\n        axios.post(`https://www.vue-js.com/api/v1/message/mark_all`, { accesstoken: token }).then(res => {\r\n        })\r\n      }\r\n    })\r\n\r\n\r\n\r\n  }\r\n  render() {\r\n    const { messageInfo } = this.state\r\n    return (<Box title='新消息' linkText='主页' linkAddress='/' >\r\n      {messageInfo ? <div className='message'>\r\n        <div></div>\r\n        <div>\r\n          <h4>过往消息</h4>\r\n          <ul>\r\n            {messageInfo.has_read_messages.map(item => <li key={item.id}><Link to={`user/${item.author.loginname}`}>{item.author.loginname}</Link>在话题<Link to={`/topic/${item.topic.id}#${item.reply.id}`}>{item.topic.title}</Link>中 {item.type === 'at' ? '@' : '回复'}了你</li>)}\r\n          </ul>\r\n        </div>\r\n      </div> : <Skeleton />}\r\n    </Box>)\r\n  }\r\n}\r\nexport default Messages","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport { Alert } from 'antd';\r\nimport Box from '../Box/Box'\r\nimport './createTopic.scss'\r\nclass CreateTopic extends Component {\r\n  state = {\r\n    tab: '',\r\n    title: '',\r\n    content: ''\r\n  }\r\n  render() {\r\n    const { tab, title, content } = this.state\r\n\r\n    return <Box title='发布话题' linkText='主页' linkAddress='/' >\r\n      <div className='create-topic'>\r\n        <span>选择板块:</span>\r\n        <select value={tab} onChange={event => this.selectChange(event, 'tab')}>\r\n          <option value=\"\">请选择</option>\r\n          <option value=\"share\">分享</option>\r\n          <option value=\"ask\">问答</option>\r\n          <option value=\"job\">招聘</option>\r\n        </select>\r\n        {tab === 'job' ? <span>为避免被管理员删帖，发帖时请好好阅读 <Link to='/topic/541ed2d05e28155f24676a12'>《招聘帖规范》</Link></span> : ''}\r\n        <br />\r\n        <input onChange={event => this.selectChange(event, 'title')} value={title} type=\"text\" placeholder='标题字数 10 字以上' />\r\n        <br />\r\n        <textarea value={content} onChange={event => this.selectChange(event, 'content')}></textarea>\r\n        <button onClick={this.submit}>提交</button>\r\n      </div>\r\n    </Box>\r\n  }\r\n  selectChange = (event, propty) => {\r\n    this.setState({\r\n      [propty]: event.target.value\r\n    })\r\n  }\r\n  submit = () => {\r\n    const { tab, title, content } = this.state\r\n    const token = localStorage.getItem('token')\r\n    const onClose = () => {\r\n      console.log('I was closed.');\r\n    };\r\n    if (tab && title.length >= 10 && content) {\r\n      axios.post(`https://www.vue-js.com/api/v1/topics`, { tab, title, content, accesstoken: token }).then(res => {\r\n        this.props.history.push(`/topic/${res.data.topic_id}`)\r\n      })\r\n    } else {\r\n      return (\r\n        <Alert\r\n          message=\"Warning Text Warning Text Warning TextW arning Text Warning Text Warning TextWarning Text\"\r\n          type=\"warning\"\r\n          closable\r\n          onClose={onClose}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n}\r\nexport default CreateTopic","import React from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport Home from '../Home/Home'\r\nimport Topic from '../Topic/Topic'\r\nimport User from '../User/User'\r\nimport Messages from '../Messages/Messages'\r\nimport CreateTopic from '../CreateTopic/CreateTopic'\r\nimport './main.scss'\r\nconst Main = (props) => <Switch>\r\n  <Route exact path='/' component={Home} />\r\n  <Route path='/topic/create' component={CreateTopic} />\r\n  <Route path='/topic/:topicid' component={Topic} />\r\n  <Route path='/user/:username' component={User} />\r\n  <Route path='/my/:Messages' component={Messages} />\r\n\r\n</Switch>\r\nexport default Main","import React from 'react';\r\nimport Header from './components/Header/Header';\r\nimport Main from './components/Main/Main';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Header />\r\n        <Main />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}